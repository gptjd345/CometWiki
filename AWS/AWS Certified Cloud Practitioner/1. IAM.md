
### IAM Role vs STS(Security Token Service)

#### ***STS***(Security Token Service) 란?

**STS(Security Token Service)**는 특정 시간 동안만 유효한 임시 보안 자격 증명이다. 

주로 임시 접근이 필요하거나 외부 사용자에게 접근 권한을 부여해야하는 상황에서 사용된다. 

### 사용사례
* **<font color="#de7802">연합 사용자 접근 (Federation Access)</font>** : 회사의 직원, 제3자 서비스 사용자 등이 AWS 리소스에 접근해야하는 경우, STS 를 사용하여 임시자격 증명을 발급받을 수 있다.

* **<font color="#de7802">교차 계정 액세스 (Cross-Account Access)</font>** : 다른 AWS 계정의 리소스에 접근해야하는 경우 , 예를 들면 
계정 A의 애플리케이션이 계정 B의 S3 버킷에 접근해야할 때 , 계정 A에서 STS를 사용하여 계정 B에서 임시 자격 증명을 발급받아 접근 할 수 있다.

*  <font color="#de7802">모바일 앱 및 웹 애플리케이션 </font>
모바일 앱이나 웹 애플리케이션이 직접 AWS 리소스에 접근해야 할 때, STS 를 사용하여 임시 자격 증명을 발급 받을 수 있다. 예를 들면 모바일 앱에서 사용자 인증 후 STS를 통해 임시 자격 증명을 받아 S3버킷에 파일을 업로드하거나 다운로드 할 수 있다. 

<font color="#00b050"><u>Python Boto3 라이브러리를 사용하여 STS를 통해 임시 자격 증명을 요청하고 이를 사용하는 예시 </u></font>
```python
import boto3

# STS 클라이언트 생성
sts_client = boto3.client('sts')

# 다른 역할의 임시 자격 증명 요청
response = sts_client.assume_role(
    RoleArn='arn:aws:iam::123456789012:role/other-role',  # 접근하려는 역할의 ARN
    RoleSessionName='other-role-session',                 # 세션 이름
    DurationSeconds=3600                                  # 자격 증명의 유효 기간 (최대 1시간)
)

# 임시 자격 증명 추출
credentials = response['Credentials']
access_key = credentials['AccessKeyId']
secret_key = credentials['SecretAccessKey']
session_token = credentials['SessionToken']

# 임시 자격 증명을 사용하여 다른 서비스 클라이언트 생성
s3_client = boto3.client(
    's3',
    aws_access_key_id=access_key,
    aws_secret_access_key=secret_key,
    aws_session_token=session_token
)

# S3 버킷 목록 가져오기
response = s3_client.list_buckets()
buckets = [bucket['Name'] for bucket in response['Buckets']]

print("S3 Buckets:", buckets)
```


#### ***IAM***(Security Token Service) 란?


